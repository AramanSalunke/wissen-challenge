<div class="recurrence-form">
  <div class="form-group">
    <label for="recurrencePattern">Recurrence Pattern</label>
    <select 
      id="recurrencePattern"
      [(ngModel)]="pattern" 
      (ngModelChange)="onPatternChange($event)"
    >
      <option value="daily">Daily</option>
      <option value="weekly">Weekly</option>
      <option value="monthly">Monthly</option>
    </select>
  </div>

  <div class="form-group">
    <label for="timeInput">Time</label>
    <input 
      id="timeInput"
      type="time" 
      class="time-input"
      [(ngModel)]="time" 
      (ngModelChange)="onTimeChange($event)" 
    />
  </div>

  @if (pattern === 'weekly') {
    <div class="form-group">
      <label>Days of Week</label>
      <div class="days-selection">
        @for (day of weekdays; track day) {
          <div class="day-checkbox">
            <input 
              type="checkbox" 
              [id]="day" 
              [(ngModel)]="selectedDays[day]" 
              (change)="generateDescription()" 
            />
            <label [for]="day">{{ capitalize(day) }}</label>
          </div>
        }
      </div>
    </div>
  }

  @if (pattern === 'monthly') {
    <div class="form-group">
      <label for="dayOfMonth">Day of Month</label>
      <select 
        id="dayOfMonth"
        [(ngModel)]="date" 
        (ngModelChange)="onDateChange($event)"
        class="date-input"
      >
        @for (num of monthDays; track num) {
          <option [value]="num">{{ num }}</option>
        }
      </select>
    </div>
  }

  <div class="description">
    <div class="description-header">
      <h4>Generated Description:</h4>
      <button class="copy-btn small" (click)="copyDescription()" title="Copy description">
        ðŸ“‹
      </button>
    </div>
    <p>{{ description }}</p>
  </div>

  @if (generatedCron) {
    <div class="generated-cron">
      <div class="cron-header">
        <h4>Generated Cron Expression:</h4>
        <button class="copy-btn small" (click)="copyCron()" title="Copy cron expression">
          ðŸ“‹
        </button>
      </div>
      <code>{{ generatedCron }}</code>
    </div>
  }
</div>